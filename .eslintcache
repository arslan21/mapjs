[{"C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\index.js":"1","C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\reportWebVitals.js":"2","C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\App.js":"3","C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\mapStyles.js":"4"},{"size":500,"mtime":499162500000,"results":"5","hashOfConfig":"6"},{"size":362,"mtime":499162500000,"results":"7","hashOfConfig":"6"},{"size":23371,"mtime":1624745441236,"results":"8","hashOfConfig":"6"},{"size":3896,"mtime":1610392386462,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"10eci7k",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":1,"source":"17","usedDeprecatedRules":"12"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"21"},"C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\index.js",[],["22","23"],"C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\reportWebVitals.js",[],"C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\App.js",["24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44"],"﻿import React, { useState } from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {\r\n    ListGroup,\r\n    ListGroupItem\r\n} from 'react-bootstrap';\r\n\r\nimport {\r\n    GoogleMap,\r\n    useLoadMap,\r\n    Marker,\r\n    Polyline,\r\n    InfoWindow,\r\n    useLoadScript,\r\n    Data\r\n} from \"@react-google-maps/api\";\r\nimport { formatRelative } from \"date-fns\";\r\n\r\nimport usePlacesAutoComplete, {\r\n    getGeocode,\r\n    getLatLng,\r\n} from \"use-places-autocomplete\";\r\n\r\nimport {\r\n    DragDropContext,\r\n    Droppable,\r\n    Draggable,\r\n} from 'react-beautiful-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\n\r\nimport {\r\n    Combobox,\r\n    ComboboxInput,\r\n    ComboboxPopover,\r\n    ComboboxList,\r\n    ComboboxOption,\r\n} from \"@reach/combobox\";\r\n\r\n\r\nimport \"@reach/combobox/styles.css\";\r\nimport mapStyles from \"./mapStyles\";\r\n\r\nconst libraries = [\"places\"];\r\nconst mapContainerStyle = {\r\n    width: \"100vw\",\r\n    maxWidth: \"100 %\",\r\n    height: \"100vh\",\r\n};\r\nconst center = {\r\n    lat: 43.65,\r\n    lng: -79.38\r\n};\r\nconst options = {\r\n    styles: mapStyles,\r\n    disableDefaultUI: true,\r\n    zoomControl: true,\r\n\r\n};\r\n\r\nconst optionsLine = {\r\n    strokeColor: '#FF0000',\r\n    strokeOpacity: 0.8,\r\n    strokeWeight: 2,\r\n    fillColor: '#FF0000',\r\n    fillOpacity: 0.35,\r\n    clickable: false,\r\n    draggable: false,\r\n    editable: false,\r\n    visible: true,\r\n    radius: 30000,\r\n    zIndex: 1\r\n};\r\n\r\nexport default function App() {\r\n    const { isLoaded, loadError } = useLoadScript({\r\n        googleMapsApiKey: \"AIzaSyCB3oTCWDPZyhRnOeOkG_TfsC2dIVd7HD0\",\r\n        libraries,\r\n    });\r\n\r\n    var deleted = false;\r\n    const [markers, setMarkers] = React.useState([]);\r\n    const [selected, setSelected] = React.useState(null);\r\n    const [pathCoordinates, setPathsCoordinates] = React.useState([]);\r\n    const [cardList, setCardList] = React.useState([]);\r\n\r\n    const onMapClock = React.useCallback((evt) => {\r\n        const newLat = evt.latLng.lat();\r\n        const newLng = evt.latLng.lng();\r\n\r\n        setToList(newLat, newLng, setMarkers);\r\n        setToList(newLat, newLng, setCardList);\r\n        setToList(newLat, newLng, setPathsCoordinates);\r\n    }, []);\r\n                        \r\n    const putMarker = React.useCallback(({ lat, lng }) => {\r\n        setToList(lat, lng, setMarkers);\r\n        setToList(lat, lng, setCardList);\r\n        setToList(lat, lng, setPathsCoordinates);\r\n    }, []);\r\n\r\n    const setToList = React.useCallback((newLat, newLng, listSetter) => {\r\n        listSetter(current => [...current, {\r\n            id:current.length > 0 ? current[current.length - 1].id + 1 : 1,\r\n            lat: newLat,\r\n            lng: newLng,\r\n            time: new Date(),\r\n        }]);\r\n    });\r\n\r\n    const changePosition = React.useCallback((id, evt, markers, cardList, paths) => {\r\n        const newLat = evt.latLng.lat();\r\n        const newLng = evt.latLng.lng();\r\n\r\n        changeListPosition(id, newLat, newLng, markers, setMarkers);\r\n        changeListPosition(id, newLat, newLng, cardList, setCardList);\r\n        changeListPosition(id, newLat, newLng, paths, setPathsCoordinates);\r\n    }, []);\r\n\r\n    const changeListPosition = React.useCallback((id, newLat, newLng, list, listSetter) => {\r\n        console.log(list.lenght);\r\n        const itemIndex = list.findIndex(\r\n            item => item.id === Number(id)\r\n        );\r\n\r\n        if (itemIndex !== -1) {\r\n            const children = [...list];\r\n            const child = children[itemIndex];\r\n            children.splice(itemIndex, 1, {\r\n                ...child,\r\n                lat: newLat,\r\n                lng: newLng,\r\n            });\r\n\r\n            listSetter(children);\r\n        }\r\n    });\r\n\r\n    const removeMarker = React.useCallback((id) => {\r\n        removeItemFromList(id, markers, setMarkers);\r\n        removeItemFromList(id, cardList, setCardList);\r\n        removeItemFromList(id, pathCoordinates, setPathsCoordinates);\r\n        //gotoNextMarker(id, markers);\r\n    });\r\n\r\n    const removeItemFromList = React.useCallback((id, list, setList) => {\r\n        const itemIndex = list.findIndex(\r\n            item => item.id === Number(id)\r\n        );\r\n\r\n        if (itemIndex !== -1) {\r\n            const children = [...list];\r\n\r\n            children.splice(itemIndex, 1);\r\n            changeIndexes(itemIndex, children);\r\n\r\n            setList(children);\r\n        }\r\n    });\r\n\r\n    const gotoNextMarker = React.useCallback((id, list) => {\r\n        const itemIndex = list.findIndex(\r\n            item => item.id === Number(id)\r\n        );\r\n\r\n        var item = itemIndex !== -1 ? list[itemIndex] : list[list.lenght - 1];\r\n        const lat = item.lat;\r\n        const lng = item.lng;\r\n\r\n        panTo({ lat, lng });\r\n    });\r\n\r\n    const changeIndexes = React.useCallback((startIndex, list) => {\r\n        var id = startIndex > 0 ? list[startIndex-1].id : 0; \r\n\r\n        for (var i = startIndex; i < list.length; i++) {\r\n            list[i].id = ++id;\r\n        }\r\n    });\r\n\r\n    const mapRef = React.useRef();\r\n    const onMapLoad = React.useCallback((map) => {\r\n        mapRef.current = map;\r\n    }, []);\r\n\r\n    const panTo = React.useCallback(({ lat, lng }) => {\r\n        mapRef.current.panTo({ lat, lng });\r\n        mapRef.current.setZoom(8);\r\n    }, []);\r\n\r\n\r\n    if (loadError) return \"Error loading maps\";\r\n    if (!isLoaded) return \"Loading maps\";\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <div className=\"panel\">\r\n                <div className=\"headerText\">\r\n                    <img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiIGNsYXNzPSIiPjxnPjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTM0Ny4yODYgMjAzLjg3NmMtMjIxLjE5LTc1LjU4OS03Mi4wNDYtMTY2LjE0MiAzLjAyLTIwMS44NTMgMS4wMjYtLjQ4Ny42NzctMi4wMjMtLjQ1OS0yLjAyM2gtNTMuNTVjLTguNDY5IDAtMTYuODM4IDEuOTYtMjQuNTgyIDUuNzQ1LTg1LjAzOSA0MS41NjYtMjU2LjUwMiAxNDIuNjk1LTExNy45OCAyMjcuNTEgMTU4Ljg1MSA5Ny4yNjEtMTEuNDUgMjI0LjI2Ny0xMDAuNTc1IDI3OC43NDVoMzQ5LjQ3OGM0Ni43MzYtNjYuNzA4IDE0My41NzMtMjQwLjE0NC01NS4zNTItMzA4LjEyNHoiIGZpbGw9IiM2NjVlNjgiIGRhdGEtb3JpZ2luYWw9IiM2NjVlNjgiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD48cGF0aCBkPSJtNTMuMTYgNTEyaDc2Ljc3NmM5MS41NjgtNjMuMTE4IDIzMS43MTQtMTg4LjA2OCA4Mi44NjktMjg1LjE4OS0xMjQuMjM4LTgxLjA2NC44NzQtMTc2LjExMyA4OS4zNDktMjI2LjgxMWgtNS44NTdjLTguNDY5IDAtMTYuODM4IDEuOTYtMjQuNTgyIDUuNzQ1LTg1LjAzOSA0MS41NjYtMjU2LjUwMiAxNDIuNjk1LTExNy45OCAyMjcuNTEgMTU4Ljg1MSA5Ny4yNjEtMTEuNDUgMjI0LjI2Ny0xMDAuNTc1IDI3OC43NDV6IiBmaWxsPSIjNTU0ZTU2IiBkYXRhLW9yaWdpbmFsPSIjNTU0ZTU2IiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PGc+PHBhdGggZD0ibTIxNy44MDQgNzEuMzM5Yy0yLjUxOSAwLTQuOTg4LTEuMjI5LTYuNDczLTMuNDkzLTIuMzQyLTMuNTcxLTEuMzQ2LTguMzY0IDIuMjI2LTEwLjcwNiAzLjQxOS0yLjI0MiA1LjU3LTMuNDcxIDUuNjU5LTMuNTIyIDMuNzEtMi4xMTUgOC40MzMtLjgyIDEwLjU0NiAyLjg5MSAyLjExMyAzLjcwOS44MiA4LjQyOC0yLjg4NyAxMC41NDMtLjA1MS4wMjktMS44OTIgMS4wODctNC44MzggMy4wMTktMS4zMDcuODU4LTIuNzc4IDEuMjY3LTQuMjMzIDEuMjY4eiIgZmlsbD0iI2RmZWJmYSIgZGF0YS1vcmlnaW5hbD0iI2RmZWJmYSIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjwvZz48ZyBmaWxsPSIjZGZlYmZhIj48cGF0aCBkPSJtMjkxLjQyIDQ0MS45MzVjLTEuODgyIDAtMy43NjgtLjY4My01LjI1Ny0yLjA2NC0zLjEzMS0yLjkwNC0zLjMxNC03Ljc5Ny0uNDA5LTEwLjkyNyAyLjgxNC0zLjAzMyA1LjU1OS02LjExOSA4LjE2LTkuMTczIDIuNzctMy4yNTEgNy42NS0zLjY0MiAxMC45LS44NzIgMy4yNTEgMi43NjkgMy42NDIgNy42NDkuODcyIDEwLjktMi43NDIgMy4yMTktNS42MzQgNi40Ny04LjU5NiA5LjY2My0xLjUyMyAxLjY0Mi0zLjU5NCAyLjQ3My01LjY3IDIuNDczeiIgZmlsbD0iI2RmZWJmYSIgZGF0YS1vcmlnaW5hbD0iI2RmZWJmYSIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjxwYXRoIGQ9Im0zMjQuMTkxIDM5OC4zOWMtMS4zMDcgMC0yLjYzMi0uMzMyLTMuODQ2LTEuMDMtMy43MDMtMi4xMjgtNC45NzgtNi44NTUtMi44NS0xMC41NTcgMi4wNDUtMy41NTkgMy45MzEtNy4xMzUgNS42MDMtMTAuNjMgMS44NDMtMy44NTIgNi40Ni01LjQ4MSAxMC4zMTItMy42MzggMy44NTMgMS44NDMgNS40ODEgNi40NiAzLjYzOCAxMC4zMTItMS44NCAzLjg0NS0zLjkwNyA3Ljc3LTYuMTQ3IDExLjY2My0xLjQzIDIuNDg3LTQuMDMzIDMuODgtNi43MSAzLjg4eiIgZmlsbD0iI2RmZWJmYSIgZGF0YS1vcmlnaW5hbD0iI2RmZWJmYSIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjxwYXRoIGQ9Im0zNDEuNTk0IDM0Ny4xMTNjLS4yMDUgMC0uNDEyLS4wMDgtLjYyLS4wMjUtNC4yNTctLjMzOC03LjQzNS00LjA2Mi03LjA5Ny04LjMxOS4xNjYtMi4wODUuMjQ5LTQuMTc5LjI0OS02LjIyNS4wMDEtMS43MzktLjA2LTMuNDktLjE4LTUuMjA0LS4yOTktNC4yNiAyLjkxMy03Ljk1NSA3LjE3Mi04LjI1NCA0LjI1LS4zMDIgNy45NTUgMi45MTIgOC4yNTQgNy4xNzIuMTQ1IDIuMDc0LjIxOSA0LjE4OS4yMTggNi4yODggMCAyLjQ1LS4xIDQuOTU2LS4yOTggNy40NDUtLjMyIDQuMDQ5LTMuNzA1IDcuMTIyLTcuNjk4IDcuMTIyeiIgZmlsbD0iI2RmZWJmYSIgZGF0YS1vcmlnaW5hbD0iI2RmZWJmYSIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjxwYXRoIGQ9Im0zMjguMDg2IDI5NS4zMjZjLTIuNTA4IDAtNC45NjktMS4yMTktNi40NTctMy40NjgtMi4wNjktMy4xMjktNC40MjktNi4yNDQtNy4wMTYtOS4yNTktMi43OC0zLjI0MS0yLjQwNy04LjEyMi44MzQtMTAuOTAzczguMTIyLTIuNDA4IDEwLjkwMy44MzRjMy4wMDQgMy41MDEgNS43NTUgNy4xMzQgOC4xNzggMTAuNzk3IDIuMzU1IDMuNTYyIDEuMzc4IDguMzU5LTIuMTg0IDEwLjcxNS0xLjMxMy44NjktMi43OTQgMS4yODQtNC4yNTggMS4yODR6IiBmaWxsPSIjZGZlYmZhIiBkYXRhLW9yaWdpbmFsPSIjZGZlYmZhIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggZD0ibTI4OC41NjUgMjU4LjI2MmMtMS40MzYgMC0yLjg4OC0uMzk5LTQuMTgzLTEuMjM1LTMuMjkzLTIuMTI0LTYuNzkxLTQuMjM0LTEwLjM5Ni02LjI3Mi0zLjcxOC0yLjEwMS01LjAyNy02LjgxOS0yLjkyNi0xMC41MzYgMi4xMDEtMy43MTggNi44MTktNS4wMjcgMTAuNTM2LTIuOTI2IDMuODY1IDIuMTg1IDcuNjIyIDQuNDUyIDExLjE2NiA2LjczNyAzLjU4OSAyLjMxNSA0LjYyMiA3LjEgMi4zMDggMTAuNjg5LTEuNDc4IDIuMjkzLTMuOTY2IDMuNTQzLTYuNTA1IDMuNTQzeiIgZmlsbD0iI2RmZWJmYSIgZGF0YS1vcmlnaW5hbD0iI2RmZWJmYSIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjxwYXRoIGQ9Im0yNDAuMTU1IDIzMy4xOGMtMS4xNzYgMC0yLjM2OS0uMjY5LTMuNDktLjgzNy0zLjkxOC0xLjk4Ni03Ljc0OS00LjAxOS0xMS4zODUtNi4wNDEtMy43MzItMi4wNzYtNS4wNzUtNi43ODQtMi45OTktMTAuNTE2IDIuMDc2LTMuNzMzIDYuNzgzLTUuMDc3IDEwLjUxNi0yLjk5OSAzLjQ2NCAxLjkyNyA3LjExOCAzLjg2NSAxMC44NiA1Ljc2MiAzLjgwOSAxLjkzMSA1LjMzMiA2LjU4NCAzLjQwMSAxMC4zOTMtMS4zNjIgMi42ODgtNC4wODIgNC4yMzgtNi45MDMgNC4yMzh6IiBmaWxsPSIjZGZlYmZhIiBkYXRhLW9yaWdpbmFsPSIjZGZlYmZhIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggZD0ibTE5NC4zMzcgMjAzLjc4NGMtMS43NzQgMC0zLjU1Ni0uNjA3LTUuMDEyLTEuODQ3LTMuNTAxLTIuOTg0LTYuNzc2LTYuMDQ1LTkuNzMzLTkuMDk3LTIuOTcyLTMuMDY3LTIuODk0LTcuOTYyLjE3NC0xMC45MzMgMy4wNjgtMi45NzIgNy45NjItMi44OTMgMTAuOTMzLjE3NCAyLjYxNiAyLjcgNS41MjkgNS40MjIgOC42NTcgOC4wODggMy4yNSAyLjc3IDMuNjQgNy42NS44NjkgMTAuOS0xLjUyOSAxLjc5Mi0zLjcwMiAyLjcxNS01Ljg4OCAyLjcxNXoiIGZpbGw9IiNkZmViZmEiIGRhdGEtb3JpZ2luYWw9IiNkZmViZmEiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD48cGF0aCBkPSJtMTY0LjQwMiAxNTkuMzU2Yy0zLjU3OCAwLTYuNzktMi40OTctNy41NTgtNi4xMzgtLjg4LTQuMTcyLTEuMzI2LTguNDMzLTEuMzI2LTEyLjY2NC0uMDAxLS41NDcuMDA3LTEuMDk5LjAyMi0xLjY1MS4xMTctNC4yNjkgMy42ODQtNy42MTcgNy45NDEtNy41MTggNC4yNjkuMTE3IDcuNjM1IDMuNjcyIDcuNTE4IDcuOTQxLS4wMTEuNDA2LS4wMTcuODEyLS4wMTYgMS4yMiAwIDMuMTY4LjMzNCA2LjM1NS45OTMgOS40OC44ODEgNC4xNzgtMS43OTEgOC4yOC01Ljk3IDkuMTYxLS41MzkuMTE1LTEuMDc2LjE2OS0xLjYwNC4xNjl6IiBmaWxsPSIjZGZlYmZhIiBkYXRhLW9yaWdpbmFsPSIjZGZlYmZhIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggZD0ibTE3Ny44NzMgMTA4LjE2MmMtMS41NzIgMC0zLjE1OC0uNDc4LTQuNTI4LTEuNDctMy40NTktMi41MDQtNC4yMzMtNy4zMzktMS43MjgtMTAuNzk3IDIuNTI0LTMuNDg2IDUuMzcyLTYuOTkxIDguNDY1LTEwLjQxNyAyLjg2LTMuMTY5IDcuNzQ5LTMuNDIyIDEwLjkyMS0uNTU5IDMuMTcgMi44NjEgMy40MiA3Ljc1LjU1OSAxMC45MjEtMi43MjIgMy4wMTYtNS4yMTggNi4wODYtNy40MTkgOS4xMjUtMS41MTIgMi4wODgtMy44NzQgMy4xOTctNi4yNyAzLjE5N3oiIGZpbGw9IiNkZmViZmEiIGRhdGEtb3JpZ2luYWw9IiNkZmViZmEiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD48L2c+PGc+PHBhdGggZD0ibTI1Ni4wMDYgNDc0Ljc4N2MtMi4zMzYgMC00LjY0NC0xLjA1NC02LjE2NS0zLjA1OS0yLjU4MS0zLjQwMi0xLjkxNi04LjI1MiAxLjQ4Ni0xMC44MzQuMDE0LS4wMTEgMS43MTQtMS4zMDUgNC41NjktMy42NjYgMy4yOTEtMi43MjIgOC4xNjYtMi4yNiAxMC44ODYgMS4wMyAyLjcyMiAzLjI5MSAyLjI2IDguMTY1LTEuMDMgMTAuODg2LTMuMTMzIDIuNTkyLTQuOTk5IDQuMDEtNS4wNzcgNC4wNjktMS4zOTggMS4wNjEtMy4wNCAxLjU3NC00LjY2OSAxLjU3NHoiIGZpbGw9IiNkZmViZmEiIGRhdGEtb3JpZ2luYWw9IiNkZmViZmEiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD48L2c+PHBhdGggZD0ibTM2NC45ODIgMTg1LjMzN2MtMjEwLjc4OS02NS4xNDYtODkuMTY5LTEzOS4zMy0xMS4xMjUtMTc3LjU0MiAzLjY0Ny0xLjc4NSAyLjQ4Ni03Ljc5NS0xLjUwMy03Ljc5NWgtMi45Yy03My40MTUgMzQuMjAyLTIzMi44MTUgMTI2LjgxNS03LjMxOCAyMDMuODc2IDE5OC45MjMgNjcuOTggMTAyLjA4NyAyNDEuNDE2IDU1LjM1MSAzMDguMTI0aDM5LjYwOWM5LjkxNiAwIDE5LjAyNi02LjAxMyAyMy43MS0xNS42NTkgNDQuOTA0LTkyLjQ1NyA4Ni44MTEtMjU0LjU1OS05NS44MjQtMzExLjAwNHoiIGZpbGw9IiM0NjQ0NDEiIGRhdGEtb3JpZ2luYWw9IiNmZmQzMDEiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD48Zz48Zz48cGF0aCBkPSJtMTU1Ljc5NSAyMzMuMjU1Yy0xMDIuNDEzLTYyLjcwNi0zNy40NDMtMTM0LjMzIDM4LjgyOC0xODQuMjA4LTg1LjMyNiA0Ny44NDktMTgzLjE4MyAxMjYuNDkyLTY4LjQ3NiAxOTYuNzI0IDEzNC4zNTEgODIuMjYxLTYuNTgxIDE4NS43OTctMTA5LjI1NyAyNDguNzM2LTcuNjI4IDQuNjc3LTQuNjA4IDE3LjQ5MyA0LjExOSAxNy40OTNoMzQuMjExYzg5LjEyNi01NC40NzggMjU5LjQyNy0xODEuNDg0IDEwMC41NzUtMjc4Ljc0NXoiIGZpbGw9IiM0NjQ0NDEiIGRhdGEtb3JpZ2luYWw9IiNmZmMyMGMiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9zdmc+\" />\r\n                    <h1>{\" \"}my path</h1>\r\n                </div>\r\n\r\n                <Search panTo={panTo} putMarker={putMarker}/>\r\n\r\n                {cardList.length > 0 ? (\r\n                    <CardList\r\n                        removeMarker={removeMarker}\r\n                        setSelected={setSelected}\r\n                        cardList={cardList}\r\n                        markers={markers}\r\n                        pathCoordinates={pathCoordinates}\r\n                        setCardList={setCardList}\r\n                        setMarkers={setMarkers}\r\n                        setPathsCoordinates={setPathsCoordinates}\r\n                    />\r\n                ) : null}\r\n            </div>\r\n\r\n            <GoogleMap\r\n                mapContainerStyle={mapContainerStyle}\r\n                zoom={8}\r\n                center={center}\r\n                options={options}\r\n                onClick={onMapClock}\r\n                onLoad={onMapLoad}\r\n            >\r\n\r\n                {markers.map((marker) => (\r\n                    <Marker\r\n                        key={marker.time.toISOString()}\r\n                        draggable={true}\r\n                        onDragEnd={(evt) => {\r\n                            changePosition(\r\n                                marker.id,\r\n                                evt,\r\n                                markers,\r\n                                cardList,\r\n                                pathCoordinates,\r\n                            );\r\n                        }}\r\n                        onDrag={(evt) => {\r\n                            changePosition(\r\n                                marker.id,\r\n                                evt,\r\n                                markers,\r\n                                cardList,\r\n                                pathCoordinates,\r\n                            );\r\n                        }}\r\n                        position={{\r\n                            lat: marker.lat,\r\n                            lng: marker.lng\r\n                        }}\r\n                        icon={{\r\n                            url: \"/positional-map.svg\",\r\n                            scaledSize: new window.google.maps.Size(40, 40),\r\n                            //origin:    new window.google.maps.Point(0, 0),\r\n                            //anchor: new window.google.maps.Point(15, 15),\r\n\r\n                        }}\r\n                        onClick={() => {\r\n                            setSelected(marker);\r\n                        }} \r\n                    />\r\n                ))}\r\n\r\n                <Polyline\r\n                    path={pathCoordinates}\r\n                    geodesic={true}\r\n                    options={{ optionsLine}}\r\n                />\r\n\r\n                {selected? (\r\n                    <InfoWindow\r\n                        position={{\r\n                            lat: selected.lat,\r\n                            lng: selected.lng\r\n                        }}\r\n                        onCloseClick={() => {\r\n                            setSelected(null)\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            {/*<p>{\"\".concat(\"Lat:\", selected.lat, \" \", \"Lng:\", selected.lng ) }</p>*/}\r\n                            <p>{\"\".concat(\"Точка \", selected.id)}</p>\r\n                        </div>\r\n                    </InfoWindow>\r\n                ) : null}\r\n\r\n\r\n            </GoogleMap>\r\n\r\n            <Locate panTo={panTo} />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Locate({ panTo }) {\r\n    return (\r\n        <button\r\n            className=\"locate\"\r\n            onClick={() => {\r\n                navigator.geolocation.getCurrentPosition(\r\n                    (position) => {\r\n                        panTo({\r\n                            lat: position.coords.latitude,\r\n                            lng: position.coords.longitude,\r\n                        })\r\n                    },\r\n                    () => null,\r\n                    options\r\n                );\r\n            }}\r\n        >\r\n            <img src=\"compass.svg\" alt=\"compass\" />\r\n        </button>\r\n    );\r\n}\r\n\r\nfunction Search({ panTo, putMarker }) {\r\n    const {\r\n        ready,\r\n        value,\r\n        suggestions: { status, data },\r\n        setValue,\r\n        clearSuggestions,\r\n    } = usePlacesAutoComplete({\r\n        requestOptions: {\r\n            location: {\r\n                lat: () => 43.65,\r\n                lng: () => -79.38,\r\n            },\r\n            radius: 200 * 1000,\r\n        },\r\n    });\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <Combobox\r\n                onSelect={async (address) => {\r\n                    setValue(address, false);\r\n                    clearSuggestions();\r\n\r\n                    try {\r\n                        console.log(address);\r\n                        const results = await getGeocode({ address });\r\n                        const { lat, lng } = await getLatLng(results[0]);\r\n                        panTo({ lat, lng });\r\n                        putMarker({ lat, lng });\r\n                    } catch (error) {\r\n                        console.log(error)\r\n                    }\r\n                }}\r\n            >\r\n                <ComboboxInput\r\n                    value={value}\r\n                    onChange={(e) => {\r\n                        setValue(e.target.value)\r\n                    }}\r\n                    disabled={!ready}\r\n                    placeholder=\"Enter an address\"\r\n                />\r\n\r\n                <ComboboxPopover>\r\n                    <ComboboxList>\r\n                        {status === \"OK\" && data.map(({ id, description }) => (\r\n                            <ComboboxOption\r\n                                key={id}\r\n                                value={description}\r\n                            />\r\n                        ))}\r\n                    </ComboboxList>\r\n                </ComboboxPopover>\r\n            </Combobox>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CardList({\r\n    removeMarker,\r\n    setSelected,\r\n    cardList,\r\n    markers,\r\n    pathCoordinates,\r\n    setCardList, setMarkers,\r\n    setPathsCoordinates }) {\r\n\r\n    function handleOnDragEnd(result) {\r\n        if (!result.destination) return;\r\n\r\n        console.log(result);\r\n\r\n        sortList(result, cardList, setCardList);\r\n        sortList(result, markers, setMarkers);\r\n        sortList(result, pathCoordinates, setPathsCoordinates);\r\n    }\r\n\r\n    const sortList = React.useCallback((result, list, setter)=> {\r\n        const items = Array.from(list);\r\n        const [reorderedItems] = items.splice(result.source.index - 1, 1);\r\n        items.splice(result.destination.index - 1, 0, reorderedItems);\r\n\r\n        for (var i = 0; i < items.length; i++) {\r\n            items[i].id = i + 1;\r\n        };\r\n\r\n        setter(items);\r\n    });\r\n\r\n    return (\r\n        <DragDropContext onDragEnd={handleOnDragEnd} >\r\n            <Droppable droppableId=\"cList\" >\r\n                {(provided) => (\r\n                    <ListGroup as=\"ul\"\r\n                        className=\"cardList\"\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef}\r\n                    >\r\n                        {cardList.map((card) => {\r\n                            return (\r\n                                <Draggable key={(card.id).toString()} draggableId={(card.id).toString()} index={card.id}>\r\n                                    {(provided) => (\r\n                                        <ListGroup.Item as=\"li\"\r\n                                            //variant=\"secondary\"\r\n                                            style=\"padding-right:1rem;\"\r\n                                            action variant=\"light\"\r\n                                            \r\n                                            onClick={() => {\r\n                                                setSelected(markers[card.id - 1]);\r\n                                            }} \r\n                                            {...provided.draggableProps}\r\n                                            {...provided.dragHandleProps}\r\n                                            ref={provided.innerRef}\r\n                                        >\r\n                                            <div \r\n                                                className=\"dragIcon\"\r\n                                            >\r\n                                                <img src=\"draghandler.svg\" alt=\"drag\" />\r\n                                            </div>\r\n                                            <div\r\n                                                className=\"markerName\"\r\n                                            >\r\n                                                <p>\r\n                                                    {\"\".concat(\r\n                                                        \"point \",\r\n                                                        card.id,\r\n                                                        \" - \",\r\n                                                        \"Lat:\",\r\n                                                        card.lat.toString().substr(0, 6),\r\n                                                        \" \",\r\n                                                        \"Lng:\",\r\n                                                        card.lng.toString().substr(0, 6)\r\n                                                    )}\r\n                                                </p>\r\n\r\n                                            </div>\r\n\r\n                                            <button\r\n                                                className=\"removeMaker\"\r\n                                                onClick={(e) => {\r\n                                                    removeMarker(card.id)\r\n                                                    e.stopPropagation();\r\n                                                }}\r\n                                            >\r\n                                                <img src=\"minus.svg\" alt=\"compass\" />\r\n                                            </button>\r\n                                        </ListGroup.Item>                                        \r\n                                    )}                                    \r\n                                </Draggable>\r\n                            );\r\n                        })}\r\n                        {provided.placeholder}\r\n                    </ListGroup>\r\n                )}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    );\r\n}\r\n","C:\\Users\\rshed\\source\\repos\\mapjs3\\src\\mapStyles.js",["45"],"export default [\r\n    {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#d3d3d3\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"transit\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#808080\"\r\n            },\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.highway\",\r\n        \"elementType\": \"geometry.stroke\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"on\"\r\n            },\r\n            {\r\n                \"color\": \"#b3b3b3\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.highway\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.local\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"on\"\r\n            },\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            },\r\n            {\r\n                \"weight\": 1.8\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.local\",\r\n        \"elementType\": \"geometry.stroke\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#d7d7d7\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"on\"\r\n            },\r\n            {\r\n                \"color\": \"#ebebeb\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"administrative\",\r\n        \"elementType\": \"geometry\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#a7a7a7\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.arterial\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.arterial\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"landscape\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"on\"\r\n            },\r\n            {\r\n                \"color\": \"#efefef\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#696969\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"administrative\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"on\"\r\n            },\r\n            {\r\n                \"color\": \"#737373\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"labels\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.arterial\",\r\n        \"elementType\": \"geometry.stroke\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#d6d6d6\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {},\r\n    {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#dadada\"\r\n            }\r\n        ]\r\n    }\r\n]",["46","47"],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":1,"column":1,"nodeType":"54","messageId":"55","fix":"56"},{"ruleId":"57","severity":1,"message":"58","line":1,"column":17,"nodeType":"59","messageId":"60","endLine":1,"endColumn":25},{"ruleId":"57","severity":1,"message":"61","line":5,"column":5,"nodeType":"59","messageId":"60","endLine":5,"endColumn":18},{"ruleId":"57","severity":1,"message":"62","line":10,"column":5,"nodeType":"59","messageId":"60","endLine":10,"endColumn":15},{"ruleId":"57","severity":1,"message":"63","line":15,"column":5,"nodeType":"59","messageId":"60","endLine":15,"endColumn":9},{"ruleId":"57","severity":1,"message":"64","line":17,"column":10,"nodeType":"59","messageId":"60","endLine":17,"endColumn":24},{"ruleId":"57","severity":1,"message":"65","line":29,"column":10,"nodeType":"59","messageId":"60","endLine":29,"endColumn":22},{"ruleId":"57","severity":1,"message":"66","line":80,"column":9,"nodeType":"59","messageId":"60","endLine":80,"endColumn":16},{"ruleId":"67","severity":1,"message":"68","line":93,"column":8,"nodeType":"69","endLine":93,"endColumn":10,"suggestions":"70"},{"ruleId":"67","severity":1,"message":"68","line":99,"column":8,"nodeType":"69","endLine":99,"endColumn":10,"suggestions":"71"},{"ruleId":"67","severity":1,"message":"72","line":101,"column":23,"nodeType":"73","endLine":101,"endColumn":40},{"ruleId":"67","severity":1,"message":"74","line":117,"column":8,"nodeType":"69","endLine":117,"endColumn":10,"suggestions":"75"},{"ruleId":"67","severity":1,"message":"72","line":119,"column":32,"nodeType":"73","endLine":119,"endColumn":49},{"ruleId":"67","severity":1,"message":"72","line":138,"column":26,"nodeType":"73","endLine":138,"endColumn":43},{"ruleId":"67","severity":1,"message":"72","line":145,"column":32,"nodeType":"73","endLine":145,"endColumn":49},{"ruleId":"57","severity":1,"message":"76","line":160,"column":11,"nodeType":"59","messageId":"60","endLine":160,"endColumn":25},{"ruleId":"67","severity":1,"message":"72","line":160,"column":28,"nodeType":"73","endLine":160,"endColumn":45},{"ruleId":"67","severity":1,"message":"72","line":172,"column":27,"nodeType":"73","endLine":172,"endColumn":44},{"ruleId":"77","severity":1,"message":"78","line":198,"column":21,"nodeType":"79","endLine":198,"endColumn":7325},{"ruleId":"67","severity":1,"message":"72","line":397,"column":22,"nodeType":"73","endLine":397,"endColumn":39},{"ruleId":"80","severity":1,"message":"81","line":424,"column":45,"nodeType":"82","endLine":424,"endColumn":72},{"ruleId":"83","severity":1,"message":"84","line":1,"column":1,"nodeType":"85","endLine":185,"endColumn":2},{"ruleId":"48","replacedBy":"86"},{"ruleId":"50","replacedBy":"87"},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"unicode-bom","Unexpected Unicode BOM (Byte Order Mark).","Program","unexpected",{"range":"90","text":"91"},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'ListGroupItem' is defined but never used.","'useLoadMap' is defined but never used.","'Data' is defined but never used.","'formatRelative' is defined but never used.","'HTML5Backend' is defined but never used.","'deleted' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook React.useCallback has a missing dependency: 'setToList'. Either include it or remove the dependency array.","ArrayExpression",["92"],["93"],"React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","MemberExpression","React Hook React.useCallback has a missing dependency: 'changeListPosition'. Either include it or remove the dependency array.",["94"],"'gotoNextMarker' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react/style-prop-object","Style prop value must be an object","JSXAttribute","import/no-anonymous-default-export","Assign array to a variable before exporting as module default","ExportDefaultDeclaration",["88"],["89"],"no-global-assign","no-unsafe-negation",[-1,0],"",{"desc":"95","fix":"96"},{"desc":"95","fix":"97"},{"desc":"98","fix":"99"},"Update the dependencies array to be: [setToList]",{"range":"100","text":"101"},{"range":"102","text":"101"},"Update the dependencies array to be: [changeListPosition]",{"range":"103","text":"104"},[2161,2163],"[setToList]",[2397,2399],[3110,3112],"[changeListPosition]"]